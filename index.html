<!DOCTYPE html>
<html>
  <head>
    <script src="jspsych/jspsych.js"></script>
    <script src="jspsych/plugins/jspsych-html-keyboard-response.js"></script>
    <script src="jspsych/plugins/jspsych-image-keyboard-response.js"></script>
    <script src="jspsych/plugins/jspsych-html-button-response.js"></script>
    <script src="jspsych/plugins/jspsych-vwp-click.js"></script>
    <link href="jspsych/css/jspsych.css" rel="stylesheet">
    <style>
    .fixation{position: relative; width: 200px; height: 100px; border: 2px solid black;}
    .fixation span {width: 200px; text-align: center; left: 0px;}
    .top{position: absolute; top: 0px;}
    .bottom{position: absolute; bottom: 0px;}
    .topleft{position: absolute; top: 10px; left: 10px; width: 48%; height: 47%; border: 2px solid black;outline-style: solid;
  outline-color: black;}
    .topright{position: absolute; top: 10px; right: 10px; width: 48%; height: 47%; border: 2px solid black;outline-style: solid;
  outline-color: black;}
    .bottomleft{position: absolute; bottom: 10px;left: 10px; width: 48%; height: 47%; border: 2px solid black;outline-style: solid;
  outline-color: black;}
    .bottomright{position: absolute; bottom: 10px; right: 10px; width: 48%; height: 47%; border: 2px solid black;outline-style: solid;
  outline-color: black;}
  .imgTL{position: absolute; top: 10px; left: 10px; }
  .imgTR{position: absolute; top: 10px; right: 10px; }
  .imgBL{position: absolute; bottom: 10px; left: 10px; }
  .imgBR{position: absolute; bottom: 10px; right: 10px; }

    </style>
  </head>

  <body>

  </body>
  <script>

    var hello = {
      type: 'html-keyboard-response',
      stimulus: 'Hello.'
    }

    var timeline = [];

    timeline.push(hello);

    var vwp_timeline =[];

    var vwp_stimulus = {
      type: 'html-keyboard-response',
      stimulus: function(){
        return"<div> <span class='topleft'> <img src="+
        jsPsych.timelineVariable('picTL', true)+
        " ></span><span class='topright'> <img src="+
        jsPsych.timelineVariable('picTR', true)+
        " ></span><span class='bottomleft'> <img src="+
        jsPsych.timelineVariable('picBL', true)+
        " ></span><span class='bottomright'> <img src="+
        jsPsych.timelineVariable('picBR', true)+
        " ></span> </div>"
      },
      data: {
        trialID: jsPsych.timelineVariable('trialID'),
        phase: 'test-vwp'
      },
      choices: ["v","b","n","m"]
    }

    vwp_timeline.push(vwp_stimulus);

    var vwp_trials = [
      {picTL: 'pics/bird_mitten.png', picTR: 'pics/bunny_feather.png', picBL: 'pics/bear_candle.png', picBR: 'pics/fish.png', trialID: 1},
      {picTL: 'pics/duckling.png', picTR: 'pics/cow.png', picBL: 'pics/fan.png', picBR: 'pics/dog.png', trialID: 2}
    ]

    var vwp_proc = {
      timeline: vwp_timeline,
      timeline_variables: vwp_trials,
      randomize_order: true,
      repetitions: 1 //other options = sample, with or without replacement, etc.
    }

    timeline.push(vwp_proc);

    var vwp_test = {
      type: 'vwp-click',
      visual_stimulus: 'pics/duckling.png',
      choices: ['z'],
      parameter_name: 'Hello.'
    }

    timeline.push(vwp_test);

    var trial1 = {
        type: 'html-button-response',
        stimulus: '<p>Running</p>',
        choices: ['Healthy', 'Unhealthy'],
        prompt: "<p>Is this activity healthy or unhealthy?</p>"
    };

    timeline.push(trial1);

    var gbye = {
      type: 'html-keyboard-response',
      stimulus: "You're done."
    }


    timeline.push(gbye);

    jsPsych.init({
      timeline: timeline,
      on_finish: function() {
    jsPsych.data.displayData();
  }
    })

  </script>
</html>
